@import colors
@import partials/media-queries
@import partials/image-2x
@import partials/overflow-menu
@import partials/buttons

@import "design/*.png"

$CONTENT_MAX_WIDTH: 960px
$MENU_WIDTH: 180px
$HEADER_HEIGHT: 48px

=calc($property, $expression)
    $experimental-support-for-opera: true
    +experimental-value($property, "calc(#{$expression})")

=clearfix
    &::after
        content: ' '
        display: block
        clear: both

=shadow
    box-shadow: 0 0 5px rgba(black, 0.3)


body > *
    box-sizing: border-box

html
    text-size-adjust: 100%

body
    background: $COLOR_BG
    font-family: Roboto, Helvetica, Arial, sans-serif
    padding: 0 0.5em 0.5em 0.5em
    max-width: $CONTENT_MAX_WIDTH

    +desktop-and-below
        margin: 0

    +desktop-and-up
        margin: 0 auto

    color: $COLOR_TEXT

h1, h2, h3, h4
    margin-top: 0
    margin-bottom: 0.3em

h1
    font-size: 2rem

h2, h3, h4
    font-weight: normal

ul
    margin: 0
    padding: 0

li
    margin: 0
    padding: 0

a
    text-decoration: none
    color: $COLOR_TEXT

    &:hover
        color: $HOLO_BLUE_ACTIVE

// Header
[role=banner]
    a
        color: $COLOR_TEXT

        &:hover
            color: $HOLO_BLUE_ACTIVE

    .logo
        +mobile-portrait-and-up
            float: left

        +tablet-landscape-and-up
            border-right: 1px solid $COLOR_BORDER

        // Stay on top of menu
        position: relative
        z-index: 5

        line-height: $HEADER_HEIGHT
        height: $HEADER_HEIGHT
        width: $MENU_WIDTH

        .icon
            display: inline-block
            background: image_url("logo.svg") no-repeat
            width: 3em
            height: 3em

        span
            vertical-align: top
            margin-left: 1em
            letter-spacing: 0.2

    .content
        +desktop-and-up
            width: $CONTENT_MAX_WIDTH

        +tablet-portrait-and-up
            padding: 1em 0

        border-bottom: 1px solid $HOLO_BLUE

[role=navigation]
    +overflow-menu(3)
    +clearfix
    line-height: 48px
    position: relative

    a
        display: block

    .main-menu
        margin: 0
        padding: 0
        list-style: none

        li
            margin-left: 1em

            +mobile-portrait-and-up
                display: inline-block

            +mobile-menu-and-below
                display: block
                text-align: center
                clear: both
                margin-left: 0

                &:first-child a
                    border-top: none

                a
                    border-top: 1px solid $COLOR_BORDER

            &.active a
                color: $HOLO_BLUE

[role=main]
    min-height: 480px
    padding-bottom: 1em
    margin-top: 1em

    .content
        +tablet-landscape-and-up
            &.menu
                margin-left: $MENU_WIDTH

            padding-left: 1em

    a
        color: $HOLO_BLUE

        &:hover, &:active
            color: $HOLO_BLUE_ACTIVE

[role=contentinfo]
    color: $COLOR_TEXT_LIGHT

    p
        margin: 0.25em 0 0 0

    ul
        list-style: none

    li
        font-size: smaller
        display: inline-block

        &:before
            margin-right: 3px
            content: '|'

        &:first-child:before
            margin-right: 0
            content: ''

    .inner
        border-top: 1px solid $COLOR_BORDER

[role=complementary]
    margin-top: 1em

    +tablet-portrait-and-up
        width: $MENU_WIDTH
        float: left

        &.fixed
            position: fixed

    ul
        list-style: none

    li
        line-height: 2em

    a
        display: block

    .header
        position: relative

        &.expandable > a::after
            +design-sprite('disclosure')
            width: design-sprite-width('disclosure')
            height: design-sprite-height('disclosure')
            display: block
            content: ""

            position: absolute
            top: 0
            right: 0

        &.expanded
            background: $COLOR_HIGHLIGHT

            > a::after
                transform: rotate(180deg)

            ul
                display: block
                background: $COLOR_BOX

        &.active > a
            color: $HOLO_BLUE

        > a
            font-weight: 700
            padding: 0 10px

        ul
            display: none

        li
            padding: 0 10px

            &:first-child
                border-top: 1px solid $COLOR_BG

.superamp
    font-family: Baskerville, 'Goudy Old Style', Palatino, 'Book Antiqua', Georgia, serif
    font-style: italic
    font-weight: normal

.prose
    column-width: 15em
    margin-top: 1em

    p
        margin-top: 0

.sticky
    position: sticky

.affix
    position: fixed
    top: 0

@import pages/index
@import pages/projects
